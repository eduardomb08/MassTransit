<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Getting Started | MassTransit</title>
    <meta name="description" content="A free, open-source distributed application framework for .NET.">
    
    
    <link rel="preload" href="/MassTransit/assets/css/0.styles.3c3540eb.css" as="style"><link rel="preload" href="/MassTransit/assets/js/app.35715e6f.js" as="script"><link rel="preload" href="/MassTransit/assets/js/2.d01194ec.js" as="script"><link rel="preload" href="/MassTransit/assets/js/56.d6be0941.js" as="script"><link rel="prefetch" href="/MassTransit/assets/js/10.4c8ec4ee.js"><link rel="prefetch" href="/MassTransit/assets/js/100.a4922aba.js"><link rel="prefetch" href="/MassTransit/assets/js/101.28301740.js"><link rel="prefetch" href="/MassTransit/assets/js/102.4da7841b.js"><link rel="prefetch" href="/MassTransit/assets/js/103.55327799.js"><link rel="prefetch" href="/MassTransit/assets/js/104.c327e2ce.js"><link rel="prefetch" href="/MassTransit/assets/js/105.03546a12.js"><link rel="prefetch" href="/MassTransit/assets/js/106.fca1c0dc.js"><link rel="prefetch" href="/MassTransit/assets/js/11.ae22c166.js"><link rel="prefetch" href="/MassTransit/assets/js/12.697658b9.js"><link rel="prefetch" href="/MassTransit/assets/js/13.7b86bb52.js"><link rel="prefetch" href="/MassTransit/assets/js/14.be5c99d8.js"><link rel="prefetch" href="/MassTransit/assets/js/15.d0f537bf.js"><link rel="prefetch" href="/MassTransit/assets/js/16.cbfcd2ad.js"><link rel="prefetch" href="/MassTransit/assets/js/17.0c1291de.js"><link rel="prefetch" href="/MassTransit/assets/js/18.3a0ff71b.js"><link rel="prefetch" href="/MassTransit/assets/js/19.5c3468d1.js"><link rel="prefetch" href="/MassTransit/assets/js/20.00f55e73.js"><link rel="prefetch" href="/MassTransit/assets/js/21.0e5ecf82.js"><link rel="prefetch" href="/MassTransit/assets/js/22.e77c30a0.js"><link rel="prefetch" href="/MassTransit/assets/js/23.2ccaddf7.js"><link rel="prefetch" href="/MassTransit/assets/js/24.e5122a93.js"><link rel="prefetch" href="/MassTransit/assets/js/25.ff9934c4.js"><link rel="prefetch" href="/MassTransit/assets/js/26.c96a8535.js"><link rel="prefetch" href="/MassTransit/assets/js/27.42f0b0e8.js"><link rel="prefetch" href="/MassTransit/assets/js/28.b139b450.js"><link rel="prefetch" href="/MassTransit/assets/js/29.44427ee4.js"><link rel="prefetch" href="/MassTransit/assets/js/3.0af1cfd3.js"><link rel="prefetch" href="/MassTransit/assets/js/30.a3c7546f.js"><link rel="prefetch" href="/MassTransit/assets/js/31.26d3b153.js"><link rel="prefetch" href="/MassTransit/assets/js/32.21c8d85c.js"><link rel="prefetch" href="/MassTransit/assets/js/33.60e822ec.js"><link rel="prefetch" href="/MassTransit/assets/js/34.83670677.js"><link rel="prefetch" href="/MassTransit/assets/js/35.7121ef0d.js"><link rel="prefetch" href="/MassTransit/assets/js/36.b3bdb7a7.js"><link rel="prefetch" href="/MassTransit/assets/js/37.fd50b8c6.js"><link rel="prefetch" href="/MassTransit/assets/js/38.ca1af769.js"><link rel="prefetch" href="/MassTransit/assets/js/39.8a01e6c2.js"><link rel="prefetch" href="/MassTransit/assets/js/4.59116900.js"><link rel="prefetch" href="/MassTransit/assets/js/40.d28c9f0a.js"><link rel="prefetch" href="/MassTransit/assets/js/41.98667d2f.js"><link rel="prefetch" href="/MassTransit/assets/js/42.f39f09a4.js"><link rel="prefetch" href="/MassTransit/assets/js/43.1e05245e.js"><link rel="prefetch" href="/MassTransit/assets/js/44.4e17f750.js"><link rel="prefetch" href="/MassTransit/assets/js/45.8d1d7271.js"><link rel="prefetch" href="/MassTransit/assets/js/46.b2dbac86.js"><link rel="prefetch" href="/MassTransit/assets/js/47.f1aa8bbb.js"><link rel="prefetch" href="/MassTransit/assets/js/48.44c78fa3.js"><link rel="prefetch" href="/MassTransit/assets/js/49.083d197d.js"><link rel="prefetch" href="/MassTransit/assets/js/5.1d3e2cf6.js"><link rel="prefetch" href="/MassTransit/assets/js/50.acdb5188.js"><link rel="prefetch" href="/MassTransit/assets/js/51.368b1bb1.js"><link rel="prefetch" href="/MassTransit/assets/js/52.a16ac88f.js"><link rel="prefetch" href="/MassTransit/assets/js/53.747838c5.js"><link rel="prefetch" href="/MassTransit/assets/js/54.88a4e8f0.js"><link rel="prefetch" href="/MassTransit/assets/js/55.1ed74524.js"><link rel="prefetch" href="/MassTransit/assets/js/57.ec053e4a.js"><link rel="prefetch" href="/MassTransit/assets/js/58.89897b01.js"><link rel="prefetch" href="/MassTransit/assets/js/59.b03c9a56.js"><link rel="prefetch" href="/MassTransit/assets/js/6.7d02cd3b.js"><link rel="prefetch" href="/MassTransit/assets/js/60.6f5c5a8e.js"><link rel="prefetch" href="/MassTransit/assets/js/61.22b788f0.js"><link rel="prefetch" href="/MassTransit/assets/js/62.7a46067b.js"><link rel="prefetch" href="/MassTransit/assets/js/63.fa629e14.js"><link rel="prefetch" href="/MassTransit/assets/js/64.461d2327.js"><link rel="prefetch" href="/MassTransit/assets/js/65.3be2b22c.js"><link rel="prefetch" href="/MassTransit/assets/js/66.088eaa99.js"><link rel="prefetch" href="/MassTransit/assets/js/67.aa4a0e42.js"><link rel="prefetch" href="/MassTransit/assets/js/68.2343f41a.js"><link rel="prefetch" href="/MassTransit/assets/js/69.5760c371.js"><link rel="prefetch" href="/MassTransit/assets/js/7.d34c132d.js"><link rel="prefetch" href="/MassTransit/assets/js/70.1b795a08.js"><link rel="prefetch" href="/MassTransit/assets/js/71.5f851dc4.js"><link rel="prefetch" href="/MassTransit/assets/js/72.4e7b6ada.js"><link rel="prefetch" href="/MassTransit/assets/js/73.0c270da4.js"><link rel="prefetch" href="/MassTransit/assets/js/74.ed350914.js"><link rel="prefetch" href="/MassTransit/assets/js/75.96bac087.js"><link rel="prefetch" href="/MassTransit/assets/js/76.8164340d.js"><link rel="prefetch" href="/MassTransit/assets/js/77.be02c6e3.js"><link rel="prefetch" href="/MassTransit/assets/js/78.1af2718f.js"><link rel="prefetch" href="/MassTransit/assets/js/79.4a5eab4b.js"><link rel="prefetch" href="/MassTransit/assets/js/8.3bb286ea.js"><link rel="prefetch" href="/MassTransit/assets/js/80.2f525084.js"><link rel="prefetch" href="/MassTransit/assets/js/81.20e04321.js"><link rel="prefetch" href="/MassTransit/assets/js/82.eb5a0b20.js"><link rel="prefetch" href="/MassTransit/assets/js/83.899fe852.js"><link rel="prefetch" href="/MassTransit/assets/js/84.7fb595a1.js"><link rel="prefetch" href="/MassTransit/assets/js/85.05972788.js"><link rel="prefetch" href="/MassTransit/assets/js/86.c4fdf3b1.js"><link rel="prefetch" href="/MassTransit/assets/js/87.7caa98a0.js"><link rel="prefetch" href="/MassTransit/assets/js/88.93d28381.js"><link rel="prefetch" href="/MassTransit/assets/js/89.cca0c0da.js"><link rel="prefetch" href="/MassTransit/assets/js/9.e44e6573.js"><link rel="prefetch" href="/MassTransit/assets/js/90.a5271be3.js"><link rel="prefetch" href="/MassTransit/assets/js/91.7c2ab6d7.js"><link rel="prefetch" href="/MassTransit/assets/js/92.e7602d7b.js"><link rel="prefetch" href="/MassTransit/assets/js/93.7085c7ed.js"><link rel="prefetch" href="/MassTransit/assets/js/94.80cdb40c.js"><link rel="prefetch" href="/MassTransit/assets/js/95.2f02370f.js"><link rel="prefetch" href="/MassTransit/assets/js/96.435c4c8b.js"><link rel="prefetch" href="/MassTransit/assets/js/97.b9149593.js"><link rel="prefetch" href="/MassTransit/assets/js/98.27982cf5.js"><link rel="prefetch" href="/MassTransit/assets/js/99.2b4ae788.js">
    <link rel="stylesheet" href="/MassTransit/assets/css/0.styles.3c3540eb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/MassTransit/" class="home-link router-link-active"><img src="/MassTransit/mt-logo-small.png" alt="MassTransit" class="logo"> <span class="site-name can-hide">MassTransit</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://gitter.im/MassTransit/MassTransit" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitter
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://nuget.org/packages/MassTransit" target="_blank" rel="noopener noreferrer" class="nav-link external">
  NuGet
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/MassTransit/MassTransit" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://gitter.im/MassTransit/MassTransit" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitter
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://nuget.org/packages/MassTransit" target="_blank" rel="noopener noreferrer" class="nav-link external">
  NuGet
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/MassTransit/MassTransit" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/MassTransit/getting-started/" class="sidebar-heading clickable router-link-exact-active router-link-active open active"><span>Getting Started</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/MassTransit/getting-started/upgrade-v6.html" class="sidebar-link">Upgrading</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/MassTransit/usage/" class="sidebar-heading clickable"><span>Using MassTransit</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/MassTransit/usage/configuration.html" class="sidebar-link">Configuration</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/MassTransit/usage/transports/" class="sidebar-heading clickable"><span>Transports</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/MassTransit/usage/messages.html" class="sidebar-link">Messages</a></li><li><a href="/MassTransit/usage/consumers.html" class="sidebar-link">Consumers</a></li><li><a href="/MassTransit/usage/producers.html" class="sidebar-link">Producers</a></li><li><a href="/MassTransit/usage/exceptions.html" class="sidebar-link">Exceptions</a></li><li><a href="/MassTransit/usage/requests.html" class="sidebar-link">Requests</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/MassTransit/usage/sagas/" class="sidebar-heading clickable"><span>Sagas</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/MassTransit/usage/containers/" class="sidebar-heading clickable"><span>Containers</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/MassTransit/usage/testing.html" class="sidebar-link">Testing</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Advanced</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/MassTransit/learn/" class="sidebar-heading clickable"><span>Getting Help</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Reference</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="getting-started"><a href="#getting-started" class="header-anchor">#</a> Getting Started</h1> <p>Getting started with MassTransit is fast and easy. This quick start guide uses RabbitMQ with .NET Core. RabbitMQ must be installed, instructions for installing RabbitMQ are included <a href="#install-rabbitmq">below</a>.</p> <blockquote><p>The <a href="https://dotnet.microsoft.com/download" target="_blank" rel="noopener noreferrer">.NET Core SDK<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> should be installed before continuing.</p></blockquote> <p>To create a service using MassTransit, create a console application via the Command Prompt.</p> <div class="language- extra-class"><pre class="language-text"><code>$ mkdir GettingStarted
$ dotnet new console -o GettingStarted
</code></pre></div><p>Add some references to the newly created console application:</p> <div class="language- extra-class"><pre class="language-text"><code>$ cd GettingStarted
$ dotnet add package MassTransit.RabbitMQ
</code></pre></div><p>At this point, the project should compile, but there is more work to be done. You can verify the project builds by executing:</p> <div class="language- extra-class"><pre class="language-text"><code>$ dotnet run
</code></pre></div><p>If you have any errors at this point, you might want to get them resolved.</p> <h3 id="edit-program-cs"><a href="#edit-program-cs" class="header-anchor">#</a> Edit Program.cs</h3> <blockquote><p>You can view a working project on <a href="https://github.com/MassTransit/Sample-ConsoleService" target="_blank" rel="noopener noreferrer">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. There are other <a href="/learn/samples">samples</a> available as well.</p></blockquote> <p>To get started, a bare bones <em>Program.cs</em> is shown below.</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Message</span>
<span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token keyword">string</span> Text <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Program</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">async</span> <span class="token class-name">Task</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">var</span> bus <span class="token operator">=</span> Bus<span class="token punctuation">.</span>Factory<span class="token punctuation">.</span><span class="token function">CreateUsingRabbitMq</span><span class="token punctuation">(</span>sbc <span class="token operator">=&gt;</span>
        <span class="token punctuation">{</span>
            sbc<span class="token punctuation">.</span><span class="token function">Host</span><span class="token punctuation">(</span><span class="token string">&quot;rabbitmq://localhost&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            sbc<span class="token punctuation">.</span><span class="token function">ReceiveEndpoint</span><span class="token punctuation">(</span><span class="token string">&quot;test_queue&quot;</span><span class="token punctuation">,</span> ep <span class="token operator">=&gt;</span>
            <span class="token punctuation">{</span>
                ep<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Handler</span><span class="token punctuation">&lt;</span><span class="token class-name">Message</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>context <span class="token operator">=&gt;</span>
                <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> Console<span class="token punctuation">.</span>Out<span class="token punctuation">.</span><span class="token function">WriteLineAsync</span><span class="token punctuation">(</span>$<span class="token string">&quot;Received: {context.Message.Text}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">await</span> bus<span class="token punctuation">.</span><span class="token function">StartAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// This is important!</span>

        <span class="token keyword">await</span> bus<span class="token punctuation">.</span><span class="token function">Publish</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Message</span><span class="token punctuation">{</span>Text <span class="token operator">=</span> <span class="token string">&quot;Hi&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Press any key to exit&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">await</span> Task<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">ReadKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">await</span> bus<span class="token punctuation">.</span><span class="token function">StopAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Save the file, and execute <em>dotnet run</em>, and you should see the message <em>Received: Hi</em> displayed. If you see anything else, something went wrong. Verify your RabbitMQ installation and your .NET Core setup, basically all the things that could possibly go wrong you should fix.</p> <h3 id="install-rabbitmq"><a href="#install-rabbitmq" class="header-anchor">#</a> Install RabbitMQ</h3> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If you are using a Mac, RabbitMQ can be installed using <a href="https://brew.sh/" target="_blank" rel="noopener noreferrer">Homebrew<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> by typing <code>brew install rabbitmq</code>. This installs the management plug-in automatically.</p></div> <h4 id="to-install-rabbitmq-manually"><a href="#to-install-rabbitmq-manually" class="header-anchor">#</a> To install RabbitMQ manually:</h4> <ol><li><strong>Install Erlang</strong> using the <a href="http://www.erlang.org/download.html" target="_blank" rel="noopener noreferrer">installer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. (Next -&gt; Next ...)</li> <li><strong>Install RabbitMQ</strong> using the <a href="http://www.rabbitmq.com/download.html" target="_blank" rel="noopener noreferrer">installer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. (Next -&gt; Next ...) You now have a RabbitMQ broker (look in <code>services.msc</code> for it) that you can <a href="http://localhost:15672/#/" target="_blank" rel="noopener noreferrer">log into<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> using <code>guest</code>, <code>guest</code>. You can see message rates, routings and active consumers using this interface.</li></ol> <h5 id="you-need-to-add-the-management-interface-before-you-can-login"><a href="#you-need-to-add-the-management-interface-before-you-can-login" class="header-anchor">#</a> You need to add the management interface before you can login.</h5> <ol><li><p>First, from an elevated command prompt, change directory to the sbin folder within the RabbitMQ Server installation directory e.g. <code>%PROGRAMFILES%\RabbitMQ Server\rabbitmq_server_3.5.3\sbin\</code></p></li> <li><p>Next, run the following command to enable the rabbitmq management plugin: <code>rabbitmq-plugins.bat enable rabbitmq_management</code></p></li></ol> <h3 id="what-is-this-doing"><a href="#what-is-this-doing" class="header-anchor">#</a> What is this doing?</h3> <p>If we are going to create a messaging system, we need to create a message. <code>Message</code> is a .NET class that will represent our message. Notice that it's just a Plain Old CLR Object (or POCO).</p> <p>Next up, we need a program to run our code. Here we have a standard issue command line <code>Main</code> method. To setup the bus we start with the static class <code>Bus</code> and work off of the <code>Factory</code> extension point. From there we call the <code>CreateUsingRabbitMQ</code> method to setup a RabbitMQ bus instance. This method takes a lambda whose first and only argument is a class that will let you configure every aspect of the bus.</p> <p>One of your first decisions is going to be &quot;What transport do I want to run on?&quot; Here we have chosen RabbitMQ (<code>Bus.Factory.CreateUsingRabbitMQ()</code>) because its the defacto transport choice for MassTransit.</p> <p>After that we need to configure the RabbitMQ host settings <code>sbc.Host()</code>. The first argument sets the machine name and the virtual directory to connect to. After that you have a lambda that you can use to tweak any of the other settings that you want. Since no additional configuration is specified, the default username and password (guest/guest) is being used.</p> <p>Now that we have a host to listen on, we can configure some receiving endpoints <code>sbc.ReceiveEndpoint</code>. We specifiy the queue we want to listen on and a lambda to register each handler that we want to use.</p> <p>Lastly, in the configuration, we have the <code>Handler&lt;Message&gt;</code> method which subscribes a handler for the message type <code>Message</code> and takes an <code>async</code> lambda (oh yeah baby TPL) that is given a context class to process. Here we access the message by traversing <code>context.Message</code> and then writing to the console the text of the message.</p> <p>And now we have a bus instance that is fully configured and can start processing messages. We can grab the <code>busControl</code> that we created and call <code>StartAsync</code> on it to get everything rolling. We again <code>await</code> on the result and now we can go.</p> <div class="custom-block warning"><p class="custom-block-title">IMPORTANT</p> <p>You <em>must</em> start the bus, otherwise you will get issues with sending and receiving messages. There is no &quot;send-only&quot; bus with MassTransit.</p></div> <p>We can call the <code>Publish</code> method on the <code>busControl</code> and we should see our console write the output.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/MassTransit/MassTransit/edit/develop/docs/getting-started/README.md" target="_blank" rel="noopener noreferrer">Help us by improving this page!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/11/2019, 3:58:22 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/MassTransit/assets/js/app.35715e6f.js" defer></script><script src="/MassTransit/assets/js/2.d01194ec.js" defer></script><script src="/MassTransit/assets/js/56.d6be0941.js" defer></script>
  </body>
</html>
